{% extends "layouts/index_master.html" %}
{% block title %}
Plot
{% endblock %}

{% block banner_title %}
Function plotter
{% endblock %}

{% block content %}
<div class="row cols-sm">
    <div class="col-lg-4 py-3">
        <div class="col-lg-6 py-3 float-right" id="plotSettings" style="border:4px solid grey; border-radius:15px;">
            <label for="function"><b>Function: </b></label>
            <input id="function" type="text" value="sin(x)" onchange="plot();" size="13">
            <p></p>
            <label for="color"><b>Color: </b></label>
            <input type=color id="color" onchange="plot();">
            <p></p>
            <button class="btn btn-danger float-right" id="plot" onclick="plot();">Plot</button>
        </div>
    </div>
    <div class="col-lg-8 py-3">
        <div id="myFunction">

        </div>
    </div>
</div>

{% endblock %}

{% block script %}
<script>
    var parameters = {
        target: '#myFunction',
        data: [{
            fn: 'sin(x)',
            color: 'red'
        }],
        grid: false,
        yAxis: { domain: [-1, 1] },
        xAxis: { domain: [0, 2 * Math.PI] }
    };

    function plot() {
        var f = document.querySelector("#function").value;
        var color = document.querySelector("#color").value;

        parameters.data[0].fn = f;
        parameters.data[0].color = color;

        functionPlot(parameters);
    }
</script>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://mauriciopoppe.github.io/function-plot/js/function-plot.js"></script>
{% endblock %}